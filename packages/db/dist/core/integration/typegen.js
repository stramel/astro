import { RUNTIME_IMPORT } from "../consts.js";
function getDtsContent(tables) {
  const content = `// This file is generated by Astro DB
declare module 'astro:db' {
${Object.entries(tables).map(([name, table]) => generateTableType(name, table)).join("\n")}
}
`;
  return content;
}
function generateTableType(name, table) {
  const sanitizedColumnsList = Object.entries(table.columns).filter(([, val]) => !val.schema.deprecated);
  const sanitizedColumns = Object.fromEntries(sanitizedColumnsList);
  let tableType = `	export const ${name}: import(${RUNTIME_IMPORT}).Table<
		${JSON.stringify(name)},
		${JSON.stringify(sanitizedColumns)}
	>;`;
  return tableType;
}
export {
  getDtsContent
};
